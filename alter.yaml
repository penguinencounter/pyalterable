collect:
    rules:
        - 'example/*'

#build:
#    full:
#        use:
#            - image_replace
#        exclude:
#            - '404\.(html|js|ts|css)$'
preprocess:
    use:
        - test1

plugins:
    parse_html:
        provides:
            - parse_html
            - collide
        path: Plugins/parse_html.py
        pipeline:
            target: file
            match:
                - '.*\.html'
            entrypoint: main
    image_replace:
        provides:
            - image_replace
        use:
            - parse_html
        path: Plugins/image_replace.py
        pipeline:
            target: file
            match:
                - '.*\.html'
            entrypoint: main
    test1:
        provides:
            - one
        use:
            - two
        path: Plugins/test1.py
        pipeline:
            target: project
            entrypoint: main
    test2:
        provides:
            - one
            - two
        use:
            - three
        path: Plugins/test2.py
        pipeline:
            target: project
            entrypoint: main
    test3:
        provides:
            - two
            - three
        use:
            - four
        path: Plugins/test3.py
        pipeline:
            target: project
            entrypoint: main
    test4:
        provides:
            - three
            - four
        use:
            - five
        path: Plugins/test3.py
        pipeline:
            target: project
            entrypoint: main
    test5:
        provides:
            - four
            - five
        use:
            - six
        path: Plugins/test3.py
        pipeline:
            target: project
            entrypoint: main
    test6:
        provides:
            - five
            - six
        use:
            - one
        path: Plugins/test3.py
        pipeline:
            target: project
            entrypoint: main
    test7:
        provides:
            - one
        path: Plugins/test3.py
        pipeline:
            target: project
            entrypoint: main
