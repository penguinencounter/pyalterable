collect:
    rules:
        - 'example/*'

build:
    full:
        use:
            - image_replace
        exclude:
            - '404\.(html|js|ts|css)$'

plugins:
    parse_html:
        provides:
            - parse_html
            - collide
        path: Plugins/parse_html.py
        pipeline:
            target: file
            match:
                - '.*\.html'
            entrypoint: main
    image_replace:
        provides:
            - image_replace
        use:
            - parse_html
        path: Plugins/image_replace.py
        pipeline:
            target: project
            match:
                - '.*\.html'
            entrypoint: main
    test1:
        use:
            - collidable
        path: Plugins/test1.py
        pipeline:
            target: project
    test2:
        provides:
            - collidable
        use:
            - test1
        path: Plugins/test2.py
        pipeline:
            target: project
    test3:
        provides:
            - collidable
            - example
        use:
            - example
        path: Plugins/test2.py
        pipeline:
            target: project
    test4:
        provides:
            - example
        use:
            - collidable
        path: Plugins/test2.py
        pipeline:
            target: project
    test5:
        provides:
            - example
        path: Plugins/test2.py
        pipeline:
            target: project
